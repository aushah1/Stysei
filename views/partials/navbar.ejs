<nav class="flex items-center justify-between px-6 py-4 nav-bg relative">
  <!-- Profile -->
  <div class="relative">
    <div
      class="profile flex items-center gap-4 p-3 rounded-2xl bg-transparent shadow-md cursor-pointer">
      <img
        class="profile-img w-14 h-14 rounded-xl border-2 border-pink-300 object-cover"
        src="<%= user.profilePic %>"
        alt="" />
      <h3 class="font-semibold text-lg text-pink-700"><%= user.name %></h3>
    </div>

    <!-- Dropdown -->
    <form
      class="full-info opacity-0 z-20 absolute mt-3 left-0 w-56 bg-white shadow-lg rounded-2xl p-5 flex flex-col items-center gap-3 transition-all duration-300 pointer-events-none"
      action="/user/edit/<%=user._id%>"
      enctype="multipart/form-data"
      method="post">
      <div class="edit w-full text-end cursor-pointer">✏️</div>
      <div class="img flex flex-col items-center gap-2 justify-center">
        <img
          class="w-16 h-16 rounded-xl border-2 border-pink-300 object-cover"
          src="<%= user.profilePic %>"
          alt="" />
        <input class="w-[76%] hidden text-sm" type="file" name="profilePic" />
      </div>

      <div class="w-full h-[2px] bg-pink-300 rounded-full"></div>

      <div class="flex flex-col items-center w-full">
        <span class="text-sm text-gray-500 flex items-center gap-1">
          Name
        </span>
        <input
          class="text-center w-full bg-pink-50 rounded-lg py-1 text-pink-700 font-medium"
          type="text"
          name="name"
          disabled
          value="<%= user.name.toUpperCase() %>" />
      </div>

      <div class="flex flex-col items-center w-full">
        <span class="text-sm text-gray-500 flex items-center gap-1"> Bio </span>
        <input
          class="w-full text-center bg-pink-50 rounded-lg py-1 text-pink-700 font-medium"
          type="text"
          value="<%= user.bio %>"
          name="bio"
          disabled />
      </div>
      <input
        class="update-btn hidden bg-pink-500 cursor-pointer text-white py-2 px-6 rounded-xl shadow-md hover:bg-pink-600 hover:shadow-lg transition-all duration-200"
        type="submit"
        value="Update" />
    </form>
  </div>

  <!-- Hamburger -->
  <button id="menuBtn" class="md:hidden text-3xl">☰</button>

  <!-- Desktop Links -->
  <div class="hidden md:flex items-center gap-4">
    <a class="nav-div p-2 px-4 rounded-full" href="/home">Home</a>
    <a class="nav-div p-2 px-4 rounded-full" href="/tasks">Tasks</a>
    <a class="nav-div p-2 px-4 rounded-full" href="/timer">Timer</a>
    <a class="nav-div p-2 px-4 rounded-full" href="/board">Board</a>
    <a class="nav-div p-2 px-4 rounded-full" href="/notes">Notes</a>
  </div>

  <!-- Desktop Themes -->
  <div class="hidden md:flex items-center gap-3">
    <div class="w-10 h-10 bg-[#F4ACB7] rounded-full cursor-pointer"></div>
    <div class="w-10 h-10 bg-[#D9B99B] rounded-full cursor-pointer"></div>
    <div class="w-10 h-10 bg-[#CDB4DB] rounded-full cursor-pointer"></div>
  </div>

  <!-- Dropdown (Mobile) -->
  <div
    id="menu"
    class="hidden z-10 flex flex-col items-center absolute right-4 top-16 w-56 py-4 rounded-xl bg-white shadow-[0_4px_20px_rgba(0,0,0,0.08)] transition-all duration-300">
    <a
      class="w-fit text-center py-1 px-10 rounded-xl hover:bg-[#ffe8f0]"
      href="/home"
      >Home
    </a>
    <div class="line h-[2px] w-[80%] bg-pink-400 mb-2"></div>
    <a
      class="w-fit text-center py-1 px-10 rounded-xl hover:bg-[#ffe8f0]"
      href="/tasks"
      >Tasks</a
    >
    <div class="line h-[2px] w-[80%] bg-pink-400 mb-2"></div>
    <a
      class="w-fit text-center py-1 px-10 rounded-xl hover:bg-[#ffe8f0]"
      href="/timer"
      >Timer</a
    >
    <div class="line h-[2px] w-[80%] bg-pink-400 mb-2"></div>
    <a
      class="w-fit text-center py-1 px-10 rounded-xl hover:bg-[#ffe8f0]"
      href="/board"
      >Board</a
    >
    <div class="line h-[2px] w-[80%] bg-pink-400 mb-2"></div>
    <a
      class="w-fit text-center py-1 px-10 rounded-xl hover:bg-[#ffe8f0]"
      href="/notes"
      >Notes</a
    >
    <div class="line h-[2px] w-[80%] bg-pink-400 mb-2"></div>

    <div class="flex items-center justify-center gap-2 pt-3">
      <div class="w-8 h-8 bg-[#F4ACB7] rounded-full cursor-pointer"></div>
      <div class="w-8 h-8 bg-[#D9B99B] rounded-full cursor-pointer"></div>
      <div class="w-8 h-8 bg-[#CDB4DB] rounded-full cursor-pointer"></div>
    </div>
  </div>
</nav>

<script>
  const btn = document.getElementById("menuBtn");
  const menu = document.getElementById("menu");
  const profile = document.querySelector(".profile");
  const info = document.querySelector(".full-info");
  const editBtn = document.querySelector(".full-info .edit");
  const updateBtn = document.querySelector(".update-btn");
  const fileInput = document.querySelector('input[name="profilePic"]');
  const nameInput = document.querySelector('input[name="name"]');
  const bioInput = document.querySelector('input[name="bio"]');

  btn.addEventListener("click", () => {
    menu.classList.toggle("hidden");
  });

  profile.addEventListener("click", () => {
    info.classList.toggle("opacity-0");
    info.classList.toggle("pointer-events-none");
  });

  editBtn.onclick = () => {
    fileInput.classList.remove("hidden");
    nameInput.disabled = false;
    bioInput.disabled = false;
    updateBtn.classList.remove("hidden");
  };
</script>
